webpackJsonp([1],{"+dzO":function(t,e){},"4F5N":function(t,e){},"DO/t":function(t,e){},Jtfc:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("IvJb"),n={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var o=a("C7Lr")({name:"App"},n,!1,function(t){a("wBKR")},null,null).exports,i=a("KGCO"),l=a("4YfN"),r=a.n(l),c=a("9rMa"),u={computed:r()({},Object(c.c)(["navbar","navbarItem","header"])),created:function(){console.log(this.navbar)},methods:r()({},Object(c.b)(["set_navbar","set_navbarItem"]),{back:function(){history.back()},tabmenu:function(){console.log(this.navbar);!0===this.navbar.show?this.set_navbar({show:!1,info:this.navbarItem,showInfo:this.navbar.info}):this.set_navbar({show:!0,info:"",showInfo:this.navbar.info})}})},h={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("yd-navbar",{attrs:{bgcolor:"#42b983",color:"#fff",height:"3rem",fontsize:"1rem",title:t.header.show?"":t.header.title}},[t.header.show?a("span",{attrs:{slot:"left",to:"#"},on:{click:t.tabmenu},slot:"left"},[a("yd-icon",{attrs:{name:"type"}}),t._v(" "),a("span",[t._v(t._s(""===t.navbar.info||"一刻"===t.navbar.info?"一刻":t.navbarItem))])],1):t._e(),t._v(" "),t.header.show?t._e():a("span",{attrs:{slot:"left"},on:{click:t.back},slot:"left"},[a("yd-navbar-back-icon")],1),t._v(" "),t.header.show?t._e():a("span",{staticStyle:{"font-size":"0.8rem"},attrs:{slot:"center"},slot:"center"},[t._v(t._s(t.header.title))])])},staticRenderFns:[]};var d=a("C7Lr")(u,h,!1,function(t){a("+dzO")},null,null).exports,v={data:function(){return{navList:[{path:"/daily",name:"今日一刻"},{path:"/author",name:"热门作者"},{path:"/column",name:"栏目浏览"}],shows:0}},computed:r()({},Object(c.c)(["navbar"])),created:function(){},methods:r()({},Object(c.b)(["set_navbar","set_navbarItem"]),{tab:function(t,e){this.shows=e,this.set_navbar({show:!1,info:t.name,showInfo:t.name}),this.set_navbarItem(t.name),this.$router.push({path:t.path})}})},_={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"show",rawName:"v-show",value:t.navbar.show,expression:"navbar.show"}],staticClass:"navBar"},[a("ul",{ref:"navList",staticClass:"nav-list"},t._l(t.navList,function(e,s){return a("li",{key:s,class:{active:t.shows==s},on:{click:function(a){a.stopPropagation(),t.tab(e,s)}}},[t._v("\n      "+t._s(e.name)+"\n    ")])}))])},staticRenderFns:[]};var m={name:"HelloWorld",data:function(){return{msg:"Welcome to Your Vue.js App"}},components:{mHeader:d,mNav:a("C7Lr")(v,_,!1,function(t){a("4F5N")},null,null).exports},computed:r()({},Object(c.c)(["navbar"])),created:function(){this.getNews(),this.set_navbarItem("今日一刻")},methods:r()({},Object(c.b)(["set_navbarItem"]),{getNews:function(){this.$http.get("/api/columns").then(function(t){console.log(t)})}})},p={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"hello"},[e("m-header"),this._v(" "),e("m-nav"),this._v(" "),e("transition",{attrs:{mode:"out-in","enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut"}},[e("router-view",{staticClass:"content"})],1),this._v(" "),this.navbar.show?e("div",{staticClass:"mask"}):this._e()],1)},staticRenderFns:[]};var f=a("C7Lr")(m,p,!1,function(t){a("m3DH")},"data-v-15a16179",null).exports;function g(t){var e=t.getFullYear(),a=t.getMonth()+1,s=t.getDate();return e+"-"+b(a)+"-"+b(s)}function b(t){return t=t<10?"0"+t:t}var C={data:function(){return{daily:[],date:""}},created:function(){this.getDaily(),this.date=g(new Date)},methods:r()({},Object(c.b)(["set_header"]),{getDaily:function(){var t=this,e=g(new Date);this.$http.get("/api/stream/date/"+e).then(function(e){console.log(e.data.posts),t.daily=e.data.posts,t.set_header({show:!0,title:""})})},enterDetail:function(t){this.$router.push({path:"/post/"+t.id+"/?douban_rec=1"})}})},y={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"daily"},[a("div",{staticClass:"post-list"},[a("p",{staticClass:"date"},[t._v(t._s(t.date))]),t._v(" "),t._l(t.daily,function(e){return a("div",{key:e.id,staticClass:"post",on:{click:function(a){t.enterDetail(e)}}},[e.column.length>0?a("span",{staticClass:"column"},[t._v(t._s(e.column))]):t._e(),t._v(" "),a("p",{staticClass:"title"},[t._v("\n        "+t._s(e.title)+"\n      ")]),t._v(" "),a("div",{staticClass:"post-d",class:{width_full:0==e.thumbs.length||e.abstract.length<40}},[e.abstract.length>40?a("div",{staticClass:"post-detail"},[t._v("\n          "+t._s(e.abstract)+"\n        ")]):t._e(),t._v(" "),e.thumbs.length>0?a("div",{staticClass:"post-thumb"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.thumbs[0].large.url,expression:"item.thumbs[0].large.url"}],attrs:{alt:""}})]):t._e()])])})],2)])},staticRenderFns:[]};var w=a("C7Lr")(C,y,!1,function(t){a("DO/t")},"data-v-735a371e",null).exports,$={data:function(){return{rec:[],all:[],count:20,total:0,start:0}},created:function(){this.getRecommend(),this.getHotUser(this.count,this.start)},mounted:function(){window.addEventListener("scroll",this.handleScroll)},computed:{},watch:{},methods:{handleScroll:function(){(document.documentElement.scrollTop||document.body.scrollTop)+(document.documentElement.clientHeight||document.body.clientHeight)===(document.documentElement.scrollHeight||document.body.scrollHeight)&&(this.count>100?this.count=100:this.count+=20,this.getHotUser(this.count,0))},getRecommend:function(){var t=this;this.$http.get("/api/auth_authors/rec").then(function(e){t.rec=e.data.authors})},getHotUser:function(t,e){var a=this;this.$http.get("/api/auth_authors/all?count="+t+"&start="+e).then(function(t){a.all=t.data.authors,a.total=t.data.total})},goAuthors:function(t){console.log(t),this.$router.push({path:"/author-d/"+t.id})}}},k={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"author",staticClass:"author",nativeOn:{scroll:function(e){return t.scrollHandler(e)}}},[a("div",{ref:"recommend",staticClass:"recommend"},[a("p",{staticClass:"title"},[t._v("\n      本周推荐\n    ")]),t._v(" "),a("ul",{staticClass:"author-list"},t._l(t.rec,function(e,s){return a("li",{key:s,on:{click:function(a){t.goAuthors(e)}}},[a("div",{staticClass:"tpic"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.avatar,expression:"item.avatar"}],attrs:{alt:""}})]),t._v(" "),a("div",{staticClass:"tcon"},[a("p",{staticClass:"name"},[t._v(t._s(e.name))]),t._v(" "),a("p",{staticClass:"notes"},[t._v(t._s(e.editor_notes))])])])}))]),t._v(" "),a("div",{ref:"hot",staticClass:"hot"},[a("p",{staticClass:"title"},[t._v("\n      热门作者\n    ")]),t._v(" "),a("ul",{staticClass:"author-list"},t._l(t.all,function(e,s){return a("li",{key:s,on:{click:function(a){t.goAuthors(e)}}},[a("div",{staticClass:"tpic"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.avatar,expression:"item.avatar"}],attrs:{alt:""}})]),t._v(" "),a("div",{staticClass:"tcon"},[a("p",{staticClass:"name"},[t._v(t._s(e.name))]),t._v(" "),a("p",{staticClass:"notes"},[t._v(t._s(e.editor_notes))])])])}))])])},staticRenderFns:[]};var z=a("C7Lr")($,k,!1,function(t){a("Pj7z")},"data-v-9b7768a6",null).exports,x={data:function(){return{content:"",data:{},author:{}}},created:function(){this.id=this.$route.params.id,this.getPost(this.id)},methods:r()({},Object(c.b)(["set_header"]),{getPost:function(){var t=this;this.$http.get("/api/post/"+this.id).then(function(e){console.log(e),t.content=e.data.content,t.author=e.data.author||{},t.data=e.data,t.set_header({show:!1,title:e.data.title})})}})},H={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"posts"},[t.data.column.length>0?a("span",{staticClass:"column"},[t._v(t._s(t.data.column))]):t._e(),t._v(" "),a("div",{staticClass:"contents",domProps:{innerHTML:t._s(t.content)}})])},staticRenderFns:[]};var O=a("C7Lr")(x,H,!1,function(t){a("i+iJ")},null,null).exports,j={data:function(){return{data:[],theAuthor:[]}},created:function(){this.getTheAuthor(this.$route.params.id),this.getMoreArticle(this.$route.params.id)},computed:r()({},Object(c.c)(["header"])),mounted:function(){console.log(this.header)},methods:r()({},Object(c.b)(["set_header"]),{getTheAuthor:function(t){var e=this;this.$http.get("/api/author/"+t+"/posts").then(function(t){e.data=t.data.author,console.log(t.data),e.set_header({show:!1,title:t.data.author.name})})},getMoreArticle:function(t){var e=this;this.$http.get("/api/author/"+t+"/posts?count=10&max_id").then(function(t){console.log(t.data.posts),e.theAuthor=t.data.posts})},enterDetail:function(t){this.$router.push({path:"/post/"+t.id+"/?douban_rec=1"})},gotoPage:function(t){this.$router.push({path:"/author-page/"+t})}})},A={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"author-d"},[a("div",{staticClass:"author-intro"},[a("div",{staticClass:"author-img"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.data.avatar,expression:"data.avatar"}],attrs:{alt:""}}),t._v(" "),a("p",{staticClass:"author-name"},[t._v(t._s(t.data.name))])]),t._v(" "),a("div",{staticClass:"author-con"},[t._v("\n      "+t._s(t.data.resume)+"\n    ")]),t._v(" "),a("p",{staticClass:"main-page"},[a("span",{on:{click:function(e){t.gotoPage(t.data.id)}}},[t._v("进入主页")])])]),t._v(" "),a("p",{staticClass:"tab-title"},[t._v("热门文章")]),t._v(" "),t._l(t.theAuthor,function(e){return a("div",{key:e.id,staticClass:"post",on:{click:function(a){t.enterDetail(e)}}},[e.column.length>0?a("span",{staticClass:"column"},[t._v(t._s(e.column))]):t._e(),t._v(" "),a("p",{staticClass:"title"},[t._v("\n      "+t._s(e.title)+"\n    ")]),t._v(" "),a("div",{staticClass:"post-d",class:{width_full:0==e.thumbs.length||e.abstract.length<40}},[e.abstract.length>40?a("div",{staticClass:"post-detail"},[t._v("\n        "+t._s(e.abstract)+"\n      ")]):t._e(),t._v(" "),e.thumbs.length>0?a("div",{staticClass:"post-thumb"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.thumbs[0].large.url,expression:"item.thumbs[0].large.url"}],attrs:{alt:""}})]):t._e()])])})],2)},staticRenderFns:[]};var D=a("C7Lr")(j,A,!1,function(t){a("Slfq")},"data-v-af58b170",null).exports,I={data:function(){return{des:{}}},created:function(){this.getAuthorPage(this.$route.params.id)},methods:r()({},Object(c.b)(["set_header"]),{getAuthorPage:function(t){var e=this;this.$http.get("/api/user/"+t+"/profile").then(function(t){console.log(t.data),e.des=t.data,e.set_header({show:!1,title:"作者主页"})})}})},N={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"author-content"},[a("div",{staticClass:"author-des"},[a("div",{staticClass:"author-thumb"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.des.avatar,expression:"des.avatar"}],attrs:{alt:""}}),t._v(" "),a("p",[t._v(t._s(t.des.name))]),t._v(" "),a("p",[t._v("常居地："+t._s(t.des.loc_name))])])]),t._v(" "),a("div",{staticClass:"author-others"},[a("yd-cell-group",[a("yd-cell-item",[a("span",{attrs:{slot:"left"},slot:"left"},[t._v("广播")]),t._v(" "),a("span",{attrs:{slot:"right"},slot:"right"},[t._v(t._s(t.des.status_count))])]),t._v(" "),a("yd-cell-item",[a("span",{attrs:{slot:"left"},slot:"left"},[t._v("日记")]),t._v(" "),a("span",{attrs:{slot:"right"},slot:"right"},[t._v(t._s(t.des.note_count))])]),t._v(" "),a("yd-cell-item",[a("span",{attrs:{slot:"left"},slot:"left"},[t._v("相册")]),t._v(" "),a("span",{attrs:{slot:"right"},slot:"right"},[t._v(t._s(t.des.album_count))])]),t._v(" "),a("yd-cell-item",[a("span",{attrs:{slot:"left"},slot:"left"},[t._v("书影音长评")]),t._v(" "),a("span",{attrs:{slot:"right"},slot:"right"},[t._v(t._s(t.des.review_count))])])],1),t._v(" "),a("p",{staticClass:"movie"},[t._v("电影")]),t._v(" "),a("yd-cell-group",[a("yd-cell-item",[a("span",{attrs:{slot:"left"},slot:"left"},[t._v("看过")]),t._v(" "),a("span",{attrs:{slot:"right"},slot:"right"},[t._v(t._s(t.des.movie_collect_count))])]),t._v(" "),a("yd-cell-item",[a("span",{attrs:{slot:"left"},slot:"left"},[t._v("想看")]),t._v(" "),a("span",{attrs:{slot:"right"},slot:"right"},[t._v(t._s(t.des.movie_wish_count))])]),t._v(" "),a("yd-cell-item",[a("span",{attrs:{slot:"left"},slot:"left"},[t._v("在看")]),t._v(" "),a("span",{attrs:{slot:"right"},slot:"right"},[t._v(t._s(t.des.movie_do_count))])])],1),t._v(" "),a("p",{staticClass:"movie"},[t._v("读书")]),t._v(" "),a("yd-cell-group",[a("yd-cell-item",[a("span",{attrs:{slot:"left"},slot:"left"},[t._v("读过")]),t._v(" "),a("span",{attrs:{slot:"right"},slot:"right"},[t._v(t._s(t.des.book_collect_count))])]),t._v(" "),a("yd-cell-item",[a("span",{attrs:{slot:"left"},slot:"left"},[t._v("想读")]),t._v(" "),a("span",{attrs:{slot:"right"},slot:"right"},[t._v(t._s(t.des.book_wish_count))])]),t._v(" "),a("yd-cell-item",[a("span",{attrs:{slot:"left"},slot:"left"},[t._v("在读")]),t._v(" "),a("span",{attrs:{slot:"right"},slot:"right"},[t._v(t._s(t.des.book_do_count))])])],1),t._v(" "),a("p",{staticClass:"movie"},[t._v("音乐")]),t._v(" "),a("yd-cell-group",[a("yd-cell-item",[a("span",{attrs:{slot:"left"},slot:"left"},[t._v("听过")]),t._v(" "),a("span",{attrs:{slot:"right"},slot:"right"},[t._v(t._s(t.des.music_collect_count))])]),t._v(" "),a("yd-cell-item",[a("span",{attrs:{slot:"left"},slot:"left"},[t._v("想听")]),t._v(" "),a("span",{attrs:{slot:"right"},slot:"right"},[t._v(t._s(t.des.music_wish_count))])]),t._v(" "),a("yd-cell-item",[a("span",{attrs:{slot:"left"},slot:"left"},[t._v("在听")]),t._v(" "),a("span",{attrs:{slot:"right"},slot:"right"},[t._v(t._s(t.des.music_do_count))])])],1)],1)])},staticRenderFns:[]};var L=a("C7Lr")(I,N,!1,function(t){a("tSx/")},"data-v-017d4f07",null).exports,E={data:function(){return{columns:[]}},created:function(){this.getColumn()},methods:r()({},Object(c.b)(["set_header"]),{getColumn:function(){var t=this;this.$http.get("/api/columns").then(function(e){t.columns=e.data.columns,t.set_header({show:!0})})},gotoColumnD:function(t){this.$router.push({path:"/column-d/"+t})}})},R={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("ul",{staticClass:"column-list"},t._l(t.columns,function(e,s){return a("li",{key:s,on:{click:function(a){t.gotoColumnD(e.id)}}},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.icon,expression:"item.icon"}],staticClass:"icon",attrs:{alt:""}}),t._v(" "),a("p",{staticClass:"column-name"},[t._v(t._s(e.name))]),t._v(" "),a("p",{staticClass:"column-des"},[t._v(t._s(e.description))])])}))])},staticRenderFns:[]};var F=a("C7Lr")(E,R,!1,function(t){a("dDMB")},null,null).exports,P={data:function(){return{columnsA:[],columnsH:{}}},created:function(){console.log(this.$route),this.getTheColumn(this.$route.params.id)},methods:r()({},Object(c.b)(["set_header"]),{getTheColumn:function(t){var e=this;this.$http.get("/api/column/"+t+"/posts").then(function(t){console.log(t),e.columnsH=t.data.column,e.columnsA=t.data.posts,e.set_header({show:!1,title:e.columnsH.name})})},enterDetail:function(t){this.$router.push({path:"/post/"+t.id+"/?douban_rec=1"})}})},T={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"column-d"},[a("div",{staticClass:"column-head"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.columnsH.icon,expression:"columnsH.icon"}],staticClass:"icon",attrs:{alt:""}}),t._v(" "),a("p",{staticClass:"column-name"},[t._v("\n      "+t._s(t.columnsH.name)+"\n    ")]),t._v(" "),a("p",{staticClass:"column-des"},[t._v("\n      "+t._s(t.columnsH.description)+"\n    ")])]),t._v(" "),t._l(t.columnsA,function(e){return a("div",{key:e.id,staticClass:"post",on:{click:function(a){t.enterDetail(e)}}},[a("p",{staticClass:"title"},[t._v("\n      "+t._s(e.title)+"\n    ")]),t._v(" "),a("div",{staticClass:"post-d",class:{width_full:0==e.thumbs.length||e.abstract.length<40}},[e.abstract.length>40?a("div",{staticClass:"post-detail"},[t._v("\n        "+t._s(e.abstract.length>80?e.abstract.substr(0,80)+"...":e.abstract)+"\n      ")]):t._e(),t._v(" "),e.thumbs.length>0?a("div",{staticClass:"post-thumb"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.thumbs[0].large.url,expression:"item.thumbs[0].large.url"}],attrs:{alt:""}})]):t._e()])])})],2)},staticRenderFns:[]};var S=a("C7Lr")(P,T,!1,function(t){a("TyUy")},null,null).exports;s.default.use(i.a);var U=new i.a({routes:[{path:"/",name:"HelloWorld",component:f,redirect:"/daily",children:[{path:"/daily",name:"daily",component:w,children:[]},{path:"/post/:id",name:"post",component:O},{path:"/author",name:"author",component:z},{path:"/author-d/:id",name:"author-d",component:D},{path:"/author-page/:id",name:"author-page",component:L},{path:"/column",name:"column",component:F},{path:"/column-d/:id",name:"column-d",component:S}]}],mode:"history"}),J=a("aozt"),M=a.n(J),B=a("vT+3"),Y=a.n(B),W=a("mUbh"),K=a.n(W),V=a("UjVw"),q=a.n(V);s.default.use(c.a);var G=new c.a.Store({state:{header:{show:!0,title:""},navbar:{show:!1,info:"今日一刻",showInfo:"今日一刻"},navbarItem:""},actions:K.a,mutations:{set_header:function(t,e){t.header=e},set_navbar:function(t,e){t.navbar=e},set_navbarItem:function(t,e){t.navbarItem=e}},getters:q.a}),Q=a("zdS3"),X=a.n(Q),Z=(a("Y96J"),a("Jtfc"),a("iWv4"));s.default.config.productionTip=!1,s.default.prototype.$http=M.a,s.default.use(Y.a),s.default.use(X.a,{error:"../static/image/error.jpg",loading:"../static/image/loading.gif"}),s.default.component(Z.Icons.name,Z.Icons),new s.default({el:"#app",router:U,store:G,components:{App:o},template:"<App/>"})},Pj7z:function(t,e){},Slfq:function(t,e){},TyUy:function(t,e){},UjVw:function(t,e){},Y96J:function(t,e){},dDMB:function(t,e){},"i+iJ":function(t,e){},m3DH:function(t,e){},mUbh:function(t,e){},"tSx/":function(t,e){},wBKR:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.d4e62da5bd71f1908361.js.map